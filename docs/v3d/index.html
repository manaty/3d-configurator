<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content="">
        <meta name="Verge3D" content="">
        <title>Configurator</title>


        <link href="style.css" rel="stylesheet" type="text/css">
        <!-- favicons -->
        <link rel="icon" type="image/png" sizes="32x32" href="media/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="media/favicon-16x16.png">
        <link rel="manifest" href="media/manifest.json">
        <link rel="mask-icon" href="media/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="theme-color" content="#ffffff">
    </head>
    <body>
        <iframe src="configurator-test.html" class="main-app" id="main_app"></iframe>
        <div class="configurator-panel" >
            <div class="buttons-panel">
                <div class="type-controll-panel">
                    <div class="type-head-div">
                        <header class="controll-panel-header">Nombre de lampes</header>
                    </div>
                    <div class="type-buttons-div">
                        <div class="ring-type-button ring-button-selected" id="button_nb_lamp_3" >3</div>
                        <div class="ring-type-button" id="button_nb_lamp_2">2</div>
                        <div class="ring-type-button"   id="button_nb_lamp_1" >1</div>
                    </div>
                </div>
                <div class="type-controll-panel">
                    <div class="type-head-div">
                        <header class="controll-panel-header">Hauteur du m√¢t (m)</header>
                    </div>
                    <div class="type-buttons-div">
                        <div class="ring-type-button ring-button-selected" id="button_hauteur_3" >3</div>
                        <div class="ring-type-button" id="button_hauteur_4" >4</div>
                        <div class="ring-type-button" id="button_hauteur_5" >5</div>
                        <div class="ring-type-button" id="button_hauteur_6" >6</div>\
                    </div>
                </div>
                <div class="type-controll-panel">
                    <div class="type-head-div">
                        <header class="controll-panel-header">Inclinaison</header>
                    </div>
                    <div class="type-buttons-div">
                        <div class="ring-type-button" id="button_curve_0">0</div>
                        <div class="ring-type-button" id="button_curve_1">5</div>
                        <div class="ring-type-button  ring-button-selected" id="button_curve_2">10</div>
                    </div>
                </div>
                <div class="type-controll-panel">
                    <div class="type-head-div">
                        <header class="controll-panel-header">Couleur</header>
                    </div>
                    <div class="type-buttons-div">
                        <div class="ring-type-button ring-button-selected" id="button_material_1" style="background-color: #dedede;"></div>
                        <div class="ring-type-button" id="button_material_2" style="background-color: #f8c559;"></div>
                        <div class="ring-type-button" id="button_material_3" style="background-color: #f3bbb2;"></div>
                    </div>
                </div>
                
                <div class="type-controll-panel" id="engrave_panel">
                    <div class="type-head-div">
                        <header class="controll-panel-header">Gravure</header>
                    </div>
                    <div class="type-buttons-div">
                        <div class="engrave-text-div">
                            <input class="engrave-input-text" placeholder="Votre text" id="engrave_text">
                            <select class="engrave-font-list" id="engrave_font" name="Fonte">
                                <option value="days-one">Days One</option>
                                <option value="bellefair">Bellfare</option>
                                <option value="caveat">Caveat</option>
                                <option value="great_vibes">Great Vibes</option>
                                <option value="lobster">Lobster</option>
                            </select>
                        </div>
                        <div class="ring-type-button" id="button_engrave">graver</div>
                        <div class="ring-type-button" id="button_clear">effacer</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="local-preloader-screen" id="local_preloader_screen" style="display:none;">
            <div class="preloader-center">
                <div id="local_preloader_conteiner" class="local-preloader-container">
                    <div class="preloader-percentage" id="local_preloader_percentage">0%</div>
                </div>
            </div>
        </div>
        <div class="preloader-screen" id="preloader_screen">
            <div class="preloader-center">
                <div class="preloader-container" id="preloader_container">
                    <div class="preloader-image-container" id="preloader_image_container">
                        <div class="preloader-filling-color">
                            <div class="preloader-color-boarder"></div>
                            <div class="preloader-inner-color" id="preloader_color"></div>
                        </div>
                        <img src="media/preloader.svg" class="preloader-image"/>
                    </div>
                    <div class="preloader-percentage" id="preloader_percentage">0%</div>
                </div>
            </div>
        </div>
    </body>
    <script>
        function unselectButton(eltPrefix,suffix){
            document.getElementById(eltPrefix+suffix).classList.remove("ring-button-selected");
        }
        
        function selectButton(eltPrefix,suffix){
            document.getElementById(eltPrefix+suffix).classList.add("ring-button-selected");
        }

        var params={"nb_lamp":3,"hauteur":3,"inclinaison":2,"material":1};

        function addButtonListener(eltPrefix,min,max,paramName){
            for(let i=min;i<max;i++){
            document.getElementById(eltPrefix+i).addEventListener("click",e=>{
                if(params[paramName]!=i){
                    unselectButton(eltPrefix,params[paramName]);
                    params[paramName]=i;
                    selectButton(eltPrefix,params[paramName]);
                }
            });
        }
        }

        var nb_lamp = 3;
        addButtonListener("button_nb_lamp_",1,4,"nb_lamp");
        addButtonListener("button_hauteur_",3,7,"hauteur");
        addButtonListener("button_curve_",0,3,"inclinaison");
        addButtonListener("button_material_",1,4,"material");
        
    </script>
</html>
